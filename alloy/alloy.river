server "alloy" {
    http_listen_address = "0.0.0.0"
    http_listen_port    = 12345
}

metrics.receiver "host" {
    type         = "host"
    root         = "/rootfs"
    procfs_path  = "/host/proc"
    sysfs_path   = "/host/sys"
}

metrics.exporter "mimir" {
    type     = "prometheus_remote_write"
    endpoint = "http://localhost:9009/api/v1/push"
}

metrics.pipeline "host_metrics" {
    receivers = [metrics.receiver.host]
    exporters = [metrics.exporter.mimir]
}

